<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="null" language="groovy" pageWidth="612" pageHeight="792" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.2418426461183125"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="FechaIni" class="java.lang.String">
		<defaultValueExpression><![CDATA["2023-07-15"]]></defaultValueExpression>
	</parameter>
	<parameter name="FechaFin" class="java.lang.String">
		<defaultValueExpression><![CDATA["2023-08-02"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     medico.`MED_ID` AS medico_MED_ID,
     medico.`MED_Nombres` AS medico_MED_Nombres,
     hojaresultados.`HR_ID` AS hojaresultados_HR_ID,
     hojaresultados.`HR_FechaEmision` AS hojaresultados_HR_FechaEmision,
     hojaresultados.`PAC_ID` AS hojaresultados_PAC_ID,
     hojaresultados.`MED_ID` AS hojaresultados_MED_ID,
     paciente.`PAC_ID` AS paciente_PAC_ID,
     paciente.`PAC_CI` AS paciente_PAC_CI,
     paciente.`PAC_Nombres` AS paciente_PAC_Nombres,
     paciente.`PAC_ApePat` AS paciente_PAC_ApePat,
     paciente.`PAC_ApeMat` AS paciente_PAC_ApeMat,
     paciente.`PAC_FechaNac` AS paciente_PAC_FechaNac,
     paciente.`PAC_Edad` AS paciente_PAC_Edad,
     paciente.`PAC_Sexo` AS paciente_PAC_Sexo,
     paciente.`PAC_oculto` AS paciente_PAC_oculto
FROM
     `medico` medico INNER JOIN `hojaresultados` hojaresultados ON medico.`MED_ID` = hojaresultados.`MED_ID`
     INNER JOIN `paciente` paciente ON hojaresultados.`PAC_ID` = paciente.`PAC_ID`
WHERE 
     hojaResultados.`HR_FechaEmision` BETWEEN $P{FechaIni} AND $P{FechaFin}
ORDER BY  medico.`MED_ID`, hojaresultados.`HR_FechaEmision` ASC]]>
	</queryString>
	<field name="medico_MED_ID" class="java.lang.Integer"/>
	<field name="medico_MED_Nombres" class="java.lang.String"/>
	<field name="hojaresultados_HR_ID" class="java.lang.Integer"/>
	<field name="hojaresultados_HR_FechaEmision" class="java.sql.Date"/>
	<field name="hojaresultados_PAC_ID" class="java.lang.Integer"/>
	<field name="hojaresultados_MED_ID" class="java.lang.Integer"/>
	<field name="paciente_PAC_ID" class="java.lang.Integer"/>
	<field name="paciente_PAC_CI" class="java.lang.String"/>
	<field name="paciente_PAC_Nombres" class="java.lang.String"/>
	<field name="paciente_PAC_ApePat" class="java.lang.String"/>
	<field name="paciente_PAC_ApeMat" class="java.lang.String"/>
	<field name="paciente_PAC_FechaNac" class="java.sql.Date"/>
	<field name="paciente_PAC_Edad" class="java.lang.String"/>
	<field name="paciente_PAC_Sexo" class="java.lang.String"/>
	<field name="paciente_PAC_oculto" class="java.lang.Boolean"/>
	<group name="medico_MED_ID" isStartNewColumn="true">
		<groupExpression><![CDATA[$F{medico_MED_ID}]]></groupExpression>
		<groupHeader>
			<band height="46">
				<rectangle>
					<reportElement mode="Transparent" x="0" y="24" width="571" height="21"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</rectangle>
				<textField evaluationTime="Group" evaluationGroup="medico_MED_ID">
					<reportElement mode="Transparent" x="0" y="2" width="214" height="23"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Medico: " + $F{medico_MED_Nombres}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="1" y="24" width="41" height="21"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[ID]]></text>
				</staticText>
				<staticText>
					<reportElement x="42" y="24" width="203" height="21"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Nombre Completo]]></text>
				</staticText>
				<staticText>
					<reportElement x="246" y="24" width="127" height="21"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Fecha de Nacimiento]]></text>
				</staticText>
				<staticText>
					<reportElement x="373" y="24" width="122" height="21"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Edad]]></text>
				</staticText>
				<staticText>
					<reportElement x="495" y="24" width="76" height="21"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Sexo]]></text>
				</staticText>
				<line>
					<reportElement x="41" y="24" width="1" height="21" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<line>
					<reportElement x="245" y="24" width="1" height="21" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<line>
					<reportElement x="372" y="24" width="1" height="21" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<line>
					<reportElement x="495" y="24" width="1" height="21" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
			</band>
		</groupHeader>
	</group>
	<group name="hojaresultados_HR_FechaEmision">
		<groupExpression><![CDATA[$F{hojaresultados_HR_FechaEmision}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<textField evaluationTime="Group" evaluationGroup="hojaresultados_HR_FechaEmision" pattern="dd/MM/yyyy">
					<reportElement x="471" y="0" width="100" height="20"/>
					<textElement verticalAlignment="Middle" lineSpacing="Single">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{hojaresultados_HR_FechaEmision}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<background>
		<band/>
	</background>
	<title>
		<band height="44">
			<staticText>
				<reportElement x="0" y="0" width="572" height="44"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="SansSerif" size="24" isBold="true"/>
				</textElement>
				<text><![CDATA[Historico de Medicos]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="27">
			<textField pattern="dd/MM/yyyy">
				<reportElement x="496" y="3" width="76" height="23"/>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{FechaFin}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="359" y="3" width="76" height="23"/>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{FechaIni}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="435" y="3" width="60" height="23"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Hasta:]]></text>
			</staticText>
			<staticText>
				<reportElement x="299" y="3" width="60" height="23"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Desde:]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="2"/>
	</columnHeader>
	<detail>
		<band height="21">
			<rectangle>
				<reportElement mode="Transparent" x="0" y="0" width="571" height="21"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</rectangle>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="246" y="0" width="128" height="20" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{paciente_PAC_FechaNac}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="374" y="0" width="121" height="20" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{paciente_PAC_Edad}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="43" y="0" width="202" height="20" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
				<textElement verticalAlignment="Middle" lineSpacing="Single"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{paciente_PAC_Nombres}+" "+$F{paciente_PAC_ApePat}+" "+$F{paciente_PAC_ApeMat}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="496" y="0" width="76" height="20" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{paciente_PAC_Sexo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="42" height="20" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{COLUMN_COUNT}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="0" width="1" height="21" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="42" y="0" width="1" height="21" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="245" y="0" width="1" height="21" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="495" y="0" width="1" height="21" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="373" y="0" width="1" height="21" printWhenGroupChanges="hojaresultados_HR_FechaEmision"/>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</line>
		</band>
	</detail>
</jasperReport>
